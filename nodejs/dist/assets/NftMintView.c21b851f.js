import{e as V,r as h,f as A,a as z,N as D,g as l,i as n,j as e,t as R,u as i,k as B,F as g,q as w,v as E,G as S,m as F,A as I,D as U,E as j}from"./index.3dddbd81.js";import{a as q,s as T}from"./http.d88cee80.js";import{M as Y}from"./bootstrap.esm.f6b2f33d.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";import"./tools.b6eb89fe.js";const m=u=>(U("data-v-ce61b4a6"),u=u(),j(),u),H={class:""},O={class:"elements-wraper"},P={class:"button-container image-margin"},W=m(()=>e("label",{for:"images-upload",class:"images-upload"},[e("svg",{class:"custum-icon",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11s11-4.925 11-11S18.075 1 12 1zm1 15a1 1 0 1 1-2 0v-3H8a1 1 0 1 1 0-2h3V8a1 1 0 1 1 2 0v3h3a1 1 0 1 1 0 2h-3v3z",fill:"currentColor"})])])],-1)),$=["src"],J=["onClick"],K=m(()=>e("svg",{class:"times-icon",xmlns:"http://www.w3.org/2000/svg",width:"0.65em",height:"0.65em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 352 512"},[e("path",{d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",fill:"currentColor"})],-1)),Q=[K],X={key:0,id:"media-required"},Z={class:"red-text"},ee=["value"],te={class:"modal-dialog"},se={class:"modal-content"},ae=m(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"Target Wallet Address"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),oe=m(()=>e("div",{class:"modal-body"},[e("p",null,"Confirm to Mint? ")],-1)),le={class:"modal-footer"},ne=m(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),ie=["onClick"],ce=V({__name:"NftMintView",setup(u){let c=h(""),a=A([]),f=h(!1),p=new FormData,v=h(!1);const M=o=>{f.value=!0;let t=o.target.files;for(let s=0;s<t.length;s++){let d=URL.createObjectURL(t[s]);a.push({name:t[s].name,url:d,size:t[s].size,type:t[s].type,f:t[s]})}f.value=!1},y=o=>{a.splice(o,1)},C=()=>{v.value?x():k()},x=async()=>{r.hide(),console.log("send mint"),(await q()).status==200?alert("Minted successfully"):alert("Error")},k=async()=>{if(r.hide(),a.length==0){c.value="Please upload at least one image";return}p=new FormData,a.forEach(t=>{p.append(t.name,t.f)}),console.log("formData",p),(await T(p)).status===200?alert("Minted successfully"):alert("Error"),c.value=""},b=h(null);let r;const L=()=>{v.value=!0,r.show()},N=()=>{v.value=!1,r.show()};return z(()=>{r=new Y(b.value)}),(o,t)=>{const s=D("Loader");return l(),n(g,null,[e("div",null,[e("div",H,[e("div",{class:R(["gallery width-200",i(c)?"red-border":""])},[B(s,{color:"#0275d8",active:i(f),spinner:"line-scale","background-color":"rgba(255, 255, 255, .4)"},null,8,["active"]),e("div",O,[e("div",P,[W,e("input",{onChange:M,id:"images-upload",type:"file",accept:"image/*",multiple:"",hidden:""},null,32)]),(l(!0),n(g,null,w(i(a),(d,_)=>(l(),n("div",{key:_,class:"image-container image-margin"},[e("img",{src:d.url,alt:"",class:"images-preview"},null,8,$),e("button",{onClick:re=>y(_),class:"close-btn",type:"button"},Q,8,J)]))),128))])],2),i(c)?(l(),n("div",X,[e("p",Z,E(i(c)),1)])):S("",!0),(l(!0),n(g,null,w(i(a),(d,_)=>(l(),n("div",{key:_,class:"m-top"},[e("input",{type:"text",name:"media[]",value:d.name,hidden:""},null,8,ee)]))),128))])]),e("div",{class:"mcon"},[e("button",{class:"mbtn",onClick:L},"AutoMint"),e("button",{class:"mbtn",onClick:N},"UploadMint"),F("/ ")]),e("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref_key:"mintModalRef",ref:b},[e("div",te,[e("div",se,[ae,oe,e("div",le,[ne,e("button",{type:"button",class:"btn btn-primary",onClick:I(C,["prevent"])},"Confirm",8,ie)])])])],512)],64)}}});const he=G(ce,[["__scopeId","data-v-ce61b4a6"]]);export{he as default};
